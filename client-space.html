<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>Riskalia ‚Äî Espace Client</title>
    <meta
      name="description"
      content="Acc√©dez √† vos documents, d√©clarez vos sinistres en ligne et suivez vos demandes via notre portail s√©curis√©."
    />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Open+Sans:wght@400;600&family=Tajawal:wght@400;700&display=swap"
      rel="stylesheet"
    />

    <!-- Tailwind CSS -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

    <!-- FontAwesome Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- Navigation Component Styles -->
    <link rel="stylesheet" href="assets/css/components/navigation.css" />

    <!-- Footer Component Styles -->
    <link rel="stylesheet" href="assets/css/components/footer.css" />

    <!-- Custom Styles -->
    <link rel="stylesheet" href="assets/css/custom.css" />

    <style>
      :root {
        --c1: #005c73;
        --c2: #00849b;
        --c3: #00b0c8;
        --cl: #fff;
        --cm: #f6fafc;
        --cd: #243238;
      }

      .client-space-hero {
        background: linear-gradient(135deg, var(--c1) 0%, var(--c2) 100%);
      }

      .feature-card {
        transition: all 0.3s ease;
        border: 1px solid rgba(0, 176, 200, 0.1);
      }

      .feature-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(0, 176, 200, 0.15);
        border-color: var(--c3);
      }

      .feature-icon {
        font-size: 3rem;
        margin-bottom: 1rem;
      }

      .security-badge {
        background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
        border: 1px solid rgba(0, 176, 200, 0.2);
        padding: 1rem 1.5rem;
        border-radius: 12px;
        transition: all 0.3s ease;
      }

      .security-badge:hover {
        transform: scale(1.05);
        box-shadow: 0 5px 15px rgba(0, 176, 200, 0.2);
      }

      .cta-button {
        display: inline-block;
        padding: 14px 32px;
        border-radius: 12px;
        font-weight: 600;
        text-decoration: none;
        transition: all 0.3s ease;
      }

      .cta-primary {
        background: linear-gradient(135deg, var(--c3) 0%, var(--c2) 100%);
        color: white;
      }

      .cta-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(0, 176, 200, 0.3);
      }

      .cta-secondary {
        background: white;
        color: var(--c1);
        border: 2px solid var(--c2);
      }

      .cta-secondary:hover {
        background: var(--cm);
      }
    </style>

    <noscript>
      <style>
        .reveal {
          opacity: 1 !important;
          transform: none !important;
        }
      </style>
    </noscript>
  </head>
  <body class="bg-white text-gray-800 overflow-x-hidden">
    <!-- Navigation Component Container -->
    <div id="navigation-container"></div>

    <!-- HERO SECTION -->
    <section
      class="client-space-hero min-h-[35vh] flex items-center text-white text-center relative py-16"
    >
      <div class="absolute inset-0 overflow-hidden pointer-events-none">
        <div class="floating-element absolute top-1/4 left-1/4 w-2 h-2 bg-white/20 rounded-full"></div>
        <div class="floating-element absolute top-1/3 right-1/3 w-1 h-1 bg-white/30 rounded-full"></div>
        <div class="floating-element absolute bottom-1/4 right-1/4 w-3 h-3 bg-white/10 rounded-full"></div>
      </div>

      <div class="hero-content container mx-auto px-4 max-w-6xl relative z-10">
        <div class="space-y-6 px-4">
          <h1
            class="text-white text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold leading-tight"
            data-i18n="clientspace.hero.title"
          >
            Espace Client
          </h1>
          <p
            class="text-white/90 text-base sm:text-lg md:text-xl max-w-3xl mx-auto"
            data-i18n="clientspace.hero.subtitle"
          >
            Notre portail s√©curis√© donne aux assur√©s un acc√®s permanent √† leurs documents, op√©rations et d√©clarations
          </p>
        </div>
      </div>
    </section>

    <div class="section-wave" aria-hidden="true"></div>

    <!-- LOGIN SECTION -->
    <section class="py-12 bg-gray-50">
      <div class="container mx-auto px-4 max-w-6xl">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start">
          <div class="space-y-4">
            <h2
              class="text-2xl md:text-3xl font-bold text-gray-900"
              data-i18n="clientspace.login.title"
            >
              Acc√®s s√©curis√©
            </h2>
            <p
              class="text-gray-600 text-base md:text-lg"
              data-i18n="clientspace.login.subtitle"
            >
              Connectez-vous pour retrouver vos dossiers, suivre vos demandes et dialoguer avec votre √©quipe Riskalia.
            </p>
            <ul class="space-y-2 text-sm md:text-base text-gray-600">
              <li class="flex items-start gap-2">
                <span class="mt-1 text-[var(--c3)]">‚Ä¢</span>
                <span data-i18n="clientspace.login.bullet1">
                  Authentification multi-facteurs d√®s l'ouverture g√©n√©rale du portail.
                </span>
              </li>
              <li class="flex items-start gap-2">
                <span class="mt-1 text-[var(--c3)]">‚Ä¢</span>
                <span data-i18n="clientspace.login.bullet2">
                  Gestion des polices, quittances et sinistres en un seul endroit.
                </span>
              </li>
              <li class="flex items-start gap-2">
                <span class="mt-1 text-[var(--c3)]">‚Ä¢</span>
                <span data-i18n="clientspace.login.bullet3">
                  Support multilingue (FR ¬∑ EN ¬∑ AR) et √©quipes d√©di√©es.
                </span>
              </li>
            </ul>
          </div>
          <div>
            <form
              id="client-login-form"
              class="bg-white rounded-2xl shadow-xl border border-gray-100 p-6 space-y-5"
            >
              <div class="space-y-2">
                <label for="login-email" class="block text-sm font-semibold text-gray-700" data-i18n="clientspace.login.emailLabel">
                  Adresse e-mail professionnelle
                </label>
                <input
                  type="email"
                  id="login-email"
                  name="email"
                  class="w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 text-gray-700 focus:border-[var(--c3)] focus:ring-2 focus:ring-[var(--c3)]/30 transition-all"
                  required
                  autocomplete="email"
                  data-i18n-attr="placeholder:clientspace.login.emailPlaceholder"
                />
              </div>
              <div class="space-y-2">
                <label for="login-password" class="block text-sm font-semibold text-gray-700" data-i18n="clientspace.login.passwordLabel">
                  Mot de passe
                </label>
                <input
                  type="password"
                  id="login-password"
                  name="password"
                  class="w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 text-gray-700 focus:border-[var(--c3)] focus:ring-2 focus:ring-[var(--c3)]/30 transition-all"
                  required
                  autocomplete="current-password"
                  data-i18n-attr="placeholder:clientspace.login.passwordPlaceholder"
                />
              </div>
              <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 text-sm">
                <label class="inline-flex items-center gap-2 text-gray-600">
                  <input type="checkbox" class="rounded border-gray-300 text-[var(--c3)] focus:ring-[var(--c3)]" name="remember" />
                  <span data-i18n="clientspace.login.remember">Se souvenir de moi</span>
                </label>
                <a
                  href="#"
                  class="text-[var(--c3)] font-semibold hover:underline"
                  data-i18n="clientspace.login.forgot"
                >
                  Mot de passe oubli√© ?
                </a>
              </div>
              <button
                type="submit"
                class="w-full bg-gradient-to-r from-[var(--c3)] to-[var(--c2)] text-white font-semibold py-3 rounded-xl shadow-lg hover:from-[var(--c2)] hover:to-[var(--c1)] transition-transform transform hover:-translate-y-0.5"
                data-i18n="clientspace.login.submit"
              >
                Se connecter
              </button>
              <div class="text-sm text-gray-500" data-i18n="clientspace.login.helper">
                Vous n'avez pas encore de compte ?
              </div>
              <div class="text-sm text-gray-700 font-medium" data-i18n="clientspace.login.contact">
                Contactez votre gestionnaire d√©di√© pour recevoir vos identifiants.
              </div>
              <div
                id="login-feedback"
                class="hidden rounded-lg border px-4 py-3 text-sm"
                role="status"
                aria-live="polite"
              ></div>
            </form>
          </div>
        </div>
      </div>
    </section>

    <!-- FEATURES SECTION -->
    <section class="py-12 bg-white">
      <div class="container mx-auto px-4 max-w-6xl">
        <h2
          class="text-3xl md:text-4xl font-bold text-center mb-12 text-gray-900"
          data-i18n="clientspace.features.title"
        >
          Fonctionnalit√©s
        </h2>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
          <!-- Feature 1: Documents -->
          <div class="feature-card bg-white p-8 rounded-xl text-center">
            <div class="feature-icon">üóÇÔ∏è</div>
            <h3
              class="text-xl font-bold mb-3 text-gray-900"
              id="feature-1-title"
            >
              Documents
            </h3>
            <p class="text-gray-600" id="feature-1-desc">
              T√©l√©chargement des contrats, quittances et attestations
            </p>
          </div>

          <!-- Feature 2: Claims -->
          <div class="feature-card bg-white p-8 rounded-xl text-center">
            <div class="feature-icon">üìù</div>
            <h3
              class="text-xl font-bold mb-3 text-gray-900"
              id="feature-2-title"
            >
              D√©claration de sinistre
            </h3>
            <p class="text-gray-600" id="feature-2-desc">
              D√©claration de sinistre en ligne
            </p>
          </div>

          <!-- Feature 3: Tracking -->
          <div class="feature-card bg-white p-8 rounded-xl text-center">
            <div class="feature-icon">üîç</div>
            <h3
              class="text-xl font-bold mb-3 text-gray-900"
              id="feature-3-title"
            >
              Suivi
            </h3>
            <p class="text-gray-600" id="feature-3-desc">
              Suivi de vos demandes ou r√©clamations
            </p>
          </div>

          <!-- Feature 4: Documents Upload -->
          <div class="feature-card bg-white p-8 rounded-xl text-center">
            <div class="feature-icon">üìé</div>
            <h3
              class="text-xl font-bold mb-3 text-gray-900"
              id="feature-4-title"
            >
              Documents justificatifs
            </h3>
            <p class="text-gray-600" id="feature-4-desc">
              Transmission s√©curis√©e de pi√®ces justificatives
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- SECURITY SECTION -->
    <section class="py-16 bg-gray-50">
      <div class="container mx-auto px-4 max-w-6xl">
        <h2
          class="text-3xl md:text-4xl font-bold text-center mb-12 text-gray-900"
          data-i18n="clientspace.security.title"
        >
          S√©curit√© et conformit√©
        </h2>

        <div class="flex flex-wrap justify-center gap-6">
          <div class="security-badge text-center" id="security-1">
            üîí Conformit√© Loi 09-08
          </div>
          <div class="security-badge text-center" id="security-2">
            üá≤üá¶ Donn√©es h√©berg√©es localement
          </div>
          <div class="security-badge text-center" id="security-3">
            üîê Authentification renforc√©e
          </div>
        </div>
      </div>
    </section>

    <!-- CTA SECTION -->
    <section class="py-20 bg-white">
      <div class="container mx-auto px-4 max-w-4xl text-center">
        <h2
          class="text-3xl md:text-4xl font-bold mb-8 text-gray-900"
          data-i18n="clientspace.cta.title"
        >
          Acc√©dez √† votre espace
        </h2>
        <p
          class="text-lg text-gray-600 mb-10"
          data-i18n="clientspace.cta.subtitle"
        >
          Connectez-vous √† votre compte ou cr√©ez-en un nouveau pour commencer
        </p>

        <div class="flex flex-wrap justify-center gap-4">
          <a href="#" class="cta-button cta-primary" data-i18n="clientspace.cta.login">
            Se connecter
          </a>
          <a href="#" class="cta-button cta-secondary" data-i18n="clientspace.cta.register">
            Cr√©er un compte
          </a>
          <a href="contact.html" class="cta-button cta-secondary" data-i18n="clientspace.cta.contact">
            Nous contacter
          </a>
        </div>
      </div>
    </section>

    <!-- Footer Component Container -->
    <div id="footer-container"></div>

    <!-- Scripts -->
    <script src="assets/js/i18n.js"></script>
    <script src="assets/js/components/SearchComponent.js"></script>
    <script src="assets/js/components/NavigationComponent.js"></script>
    <script src="assets/js/components/FooterComponent.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // Apply i18n meta tags
        if (window.I18N) {
          const lang = localStorage.getItem("riskalia_lang") || "fr";
          const meta = window.I18N[lang].clientspace.meta;
          document.title = meta.title;
          document
            .querySelector('meta[name="description"]')
            .setAttribute("content", meta.desc);
        }

        if (typeof window.applyTexts === "function") {
          window.applyTexts();
        }

        // Apply translations to features
        function updateFeatures() {
          const lang = localStorage.getItem("riskalia_lang") || "fr";
          if (!window.I18N || !window.I18N[lang]) return;

          const features = window.I18N[lang].clientspace.features.items;
          features.forEach((feature, index) => {
            const titleEl = document.getElementById(`feature-${index + 1}-title`);
            const descEl = document.getElementById(`feature-${index + 1}-desc`);
            if (titleEl) titleEl.textContent = feature.title;
            if (descEl) descEl.textContent = feature.desc;
          });

          // Update security badges
          const badges = window.I18N[lang].clientspace.security.badges;
          badges.forEach((badge, index) => {
            const badgeEl = document.getElementById(`security-${index + 1}`);
            if (badgeEl) badgeEl.textContent = badge;
          });
        }

        // Login form helper
        const loginForm = document.getElementById("client-login-form");
        const loginFeedback = document.getElementById("login-feedback");

        function applyFeedbackStyles(type) {
          if (!loginFeedback) return;
          const classesToRemove = [
            "hidden",
            "bg-red-50",
            "border-red-200",
            "text-red-700",
            "bg-cyan-50",
            "border-cyan-200",
            "text-cyan-700",
          ];
          loginFeedback.classList.remove(...classesToRemove);

          if (type === "error") {
            loginFeedback.classList.add("bg-red-50", "border-red-200", "text-red-700");
          } else {
            loginFeedback.classList.add("bg-cyan-50", "border-cyan-200", "text-cyan-700");
          }
        }

        function translateFeedback() {
          if (!loginFeedback || loginFeedback.classList.contains("hidden")) return;
          const key = loginFeedback.dataset.i18nKey;
          if (!key || typeof window.t !== "function") return;
          const text = window.t(key);
          if (text && text !== key) {
            loginFeedback.textContent = text;
          }
        }

        function showFeedback(type, key) {
          if (!loginFeedback) return;
          const text = typeof window.t === "function" ? window.t(key) : key;
          loginFeedback.dataset.i18nKey = key;
          applyFeedbackStyles(type);
          loginFeedback.textContent = text;
        }

        function hideFeedback() {
          if (!loginFeedback) return;
          loginFeedback.classList.add("hidden");
          loginFeedback.textContent = "";
          delete loginFeedback.dataset.i18nKey;
        }

        if (loginForm) {
          loginForm.addEventListener("submit", (event) => {
            event.preventDefault();
            const email = loginForm.email.value.trim();
            const password = loginForm.password.value.trim();

            if (!email || !password) {
              showFeedback("error", "clientspace.login.errors.missing");
              return;
            }

            showFeedback("info", "clientspace.login.pending");
            loginForm.reset();
          });

          loginForm.addEventListener("input", () => {
            if (loginFeedback && !loginFeedback.classList.contains("hidden")) {
              hideFeedback();
            }
          });
        }

        // Initial update
        updateFeatures();
        translateFeedback();

        // Listen for language changes
        document.addEventListener("languageChanged", (e) => {
          window.lang = e.detail.language;
          localStorage.setItem("riskalia_lang", window.lang);

          // Update meta tags
          const meta = window.I18N[window.lang].clientspace.meta;
          document.title = meta.title;
          document.querySelector('meta[name="description"]').setAttribute("content", meta.desc);

          // Apply translations
          if (typeof window.applyTexts === "function") window.applyTexts();

          // Update components
          window.navigationComponent?.updateTranslations?.();
          window.footerComponent?.updateTranslations?.();

          // Update features
          updateFeatures();
          translateFeedback();
        });

        // Initialize components
        if (typeof FooterComponent !== "undefined" && !window.footerComponent) {
          window.footerComponent = new FooterComponent();
        }
      });
    </script>
  </body>
</html>
