<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>Riskalia — Mentions Légales & Politique de Confidentialité</title>
    <meta
      name="description"
      content="Informations légales, politique de confidentialité et conditions d'utilisation de Riskalia."
    />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Open+Sans:wght@400;600&family=Tajawal:wght@400;700&display=swap"
      rel="stylesheet"
    />

    <!-- Tailwind CSS -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

    <!-- FontAwesome Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- Navigation Component Styles -->
    <link rel="stylesheet" href="assets/css/components/navigation.css" />

    <!-- Footer Component Styles -->
    <link rel="stylesheet" href="assets/css/components/footer.css" />

    <!-- Custom Styles -->
    <link rel="stylesheet" href="assets/css/custom.css" />

    <style>
      :root {
        --c1: #005c73;
        --c2: #00849b;
        --c3: #00b0c8;
        --cl: #fff;
        --cm: #f6fafc;
        --cd: #243238;
      }

      .legal-hero {
        background: linear-gradient(135deg, var(--c1) 0%, var(--c2) 100%);
      }

      .legal-section {
        margin-bottom: 4rem;
        padding-bottom: 3rem;
        border-bottom: 1px solid rgba(0, 176, 200, 0.1);
      }

      .legal-section:last-child {
        border-bottom: none;
      }

      .section-title {
        font-size: 2rem;
        font-weight: bold;
        margin-bottom: 1.5rem;
        color: var(--cd);
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .section-intro {
        font-size: 1.1rem;
        line-height: 1.8;
        color: #555;
        margin-bottom: 2rem;
        padding: 1.5rem;
        background: rgba(0, 176, 200, 0.05);
        border-left: 4px solid var(--c3);
        border-radius: 0 8px 8px 0;
      }

      .info-card {
        background: white;
        border: 1px solid rgba(0, 176, 200, 0.2);
        border-radius: 12px;
        padding: 1.25rem 1.5rem;
        margin-bottom: 1rem;
        transition: all 0.3s ease;
      }

      .info-card:hover {
        border-color: var(--c3);
        box-shadow: 0 5px 15px rgba(0, 176, 200, 0.1);
      }

      .info-label {
        font-weight: 700;
        color: var(--c1);
        margin-bottom: 0.5rem;
        font-size: 1.05rem;
      }

      .info-text {
        color: #666;
        line-height: 1.6;
      }

      .subsection {
        margin-bottom: 2rem;
      }

      .subsection-title {
        font-weight: 700;
        color: var(--c1);
        margin-bottom: 0.75rem;
        font-size: 1.15rem;
      }

      .subsection-content {
        color: #555;
        line-height: 1.8;
        text-align: justify;
      }

      .point-list {
        list-style: none;
        padding: 0;
      }

      .point-item {
        padding: 1rem 1.5rem;
        margin-bottom: 0.75rem;
        background: white;
        border-left: 3px solid var(--c3);
        border-radius: 0 8px 8px 0;
        box-shadow: 0 2px 8px rgba(0, 176, 200, 0.08);
        transition: all 0.3s ease;
      }

      .point-item:hover {
        transform: translateX(5px);
        box-shadow: 0 4px 12px rgba(0, 176, 200, 0.15);
      }

      .cookie-type {
        background: white;
        border: 1px solid rgba(0, 176, 200, 0.2);
        border-radius: 12px;
        padding: 1.5rem;
        margin-bottom: 1.25rem;
      }

      .cookie-name {
        font-weight: 700;
        color: var(--c1);
        margin-bottom: 0.5rem;
        font-size: 1.1rem;
      }

      .cookie-desc {
        color: #666;
        line-height: 1.6;
      }

      .legal-content {
        background: white;
        border: 1px solid rgba(0, 176, 200, 0.15);
        border-radius: 12px;
        padding: 2rem;
        line-height: 1.8;
        color: #555;
        text-align: justify;
      }

      @media (max-width: 768px) {
        .section-title {
          font-size: 1.5rem;
        }

        .section-intro {
          font-size: 1rem;
        }

        .legal-content {
          padding: 1.5rem;
        }
      }
    </style>

    <noscript>
      <style>
        .reveal {
          opacity: 1 !important;
          transform: none !important;
        }
      </style>
    </noscript>
  </head>
  <body class="bg-white text-gray-800 overflow-x-hidden">
    <!-- Navigation Component Container -->
    <div id="navigation-container"></div>

    <!-- HERO SECTION -->
    <section
      class="legal-hero min-h-[35vh] flex items-center text-white text-center relative py-16"
    >
      <div class="absolute inset-0 overflow-hidden pointer-events-none">
        <div class="floating-element absolute top-1/4 left-1/4 w-2 h-2 bg-white/20 rounded-full"></div>
        <div class="floating-element absolute top-1/3 right-1/3 w-1 h-1 bg-white/30 rounded-full"></div>
        <div class="floating-element absolute bottom-1/4 right-1/4 w-3 h-3 bg-white/10 rounded-full"></div>
      </div>

      <div class="hero-content container mx-auto px-4 max-w-6xl relative z-10">
        <div class="space-y-6 px-4">
          <h1
            class="text-white text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold leading-tight"
            data-i18n="legalPage.hero.title"
          >
            Mentions Légales
          </h1>
          <p
            class="text-white/90 text-base sm:text-lg md:text-xl max-w-3xl mx-auto"
            data-i18n="legalPage.hero.subtitle"
          >
            Transparence, conformité et protection de vos données personnelles
          </p>
        </div>
      </div>
    </section>

    <div class="section-wave" aria-hidden="true"></div>

    <!-- LEGAL CONTENT -->
    <section class="py-16 bg-gray-50">
      <div class="container mx-auto px-4 max-w-5xl">
        <!-- Sections will be rendered here by JavaScript -->
        <div id="legal-content"></div>
      </div>
    </section>

    <!-- Footer Component Container -->
    <div id="footer-container"></div>

    <!-- Scripts -->
    <script src="assets/js/i18n.js"></script>
    <script src="assets/js/components/SearchComponent.js"></script>
    <script src="assets/js/components/NavigationComponent.js"></script>
    <script src="assets/js/components/FooterComponent.js"></script>

    <script>
      // Render Legal page content
      function renderLegalContent() {
        const lang = localStorage.getItem("riskalia_lang") || "fr";
        if (!window.I18N || !window.I18N[lang] || !window.I18N[lang].legalPage) return;

        const legalData = window.I18N[lang].legalPage;
        const container = document.getElementById("legal-content");

        if (!container) return;

        let html = '';

        // Section 1: Legal Notice
        if (legalData.sections.legalNotice) {
          html += `
            <div class="legal-section">
              <h2 class="section-title">${legalData.sections.legalNotice.title}</h2>
              ${legalData.sections.legalNotice.content.map((item) => `
                <div class="info-card">
                  <div class="info-label">${item.label}</div>
                  <div class="info-text">${item.text}</div>
                </div>
              `).join('')}
            </div>
          `;
        }

        // Section 2: Privacy Policy
        if (legalData.sections.privacy) {
          html += `
            <div class="legal-section">
              <h2 class="section-title">${legalData.sections.privacy.title}</h2>
              <div class="section-intro">${legalData.sections.privacy.intro}</div>
              ${legalData.sections.privacy.sections.map((item) => `
                <div class="subsection">
                  <h3 class="subsection-title">${item.subtitle}</h3>
                  <div class="subsection-content">${item.content}</div>
                </div>
              `).join('')}
            </div>
          `;
        }

        // Section 3: Data Processing
        if (legalData.sections.dataProcessing) {
          html += `
            <div class="legal-section">
              <h2 class="section-title">${legalData.sections.dataProcessing.title}</h2>
              <div class="section-intro">${legalData.sections.dataProcessing.intro}</div>
              <ul class="point-list">
                ${legalData.sections.dataProcessing.points.map((point) => `
                  <li class="point-item">${point}</li>
                `).join('')}
              </ul>
            </div>
          `;
        }

        // Section 4: Cookies Policy
        if (legalData.sections.cookies) {
          html += `
            <div class="legal-section">
              <h2 class="section-title">${legalData.sections.cookies.title}</h2>
              <div class="section-intro">${legalData.sections.cookies.intro}</div>
              ${legalData.sections.cookies.types.map((type) => `
                <div class="cookie-type">
                  <div class="cookie-name">${type.name}</div>
                  <div class="cookie-desc">${type.desc}</div>
                </div>
              `).join('')}
            </div>
          `;
        }

        // Section 5: Terms of Use
        if (legalData.sections.terms) {
          html += `
            <div class="legal-section">
              <h2 class="section-title">${legalData.sections.terms.title}</h2>
              ${legalData.sections.terms.sections.map((item) => `
                <div class="subsection">
                  <h3 class="subsection-title">${item.subtitle}</h3>
                  <div class="subsection-content">${item.content}</div>
                </div>
              `).join('')}
            </div>
          `;
        }

        // Section 6: Intellectual Property
        if (legalData.sections.intellectualProperty) {
          html += `
            <div class="legal-section">
              <h2 class="section-title">${legalData.sections.intellectualProperty.title}</h2>
              <div class="legal-content">${legalData.sections.intellectualProperty.content}</div>
            </div>
          `;
        }

        // Section 7: Applicable Law
        if (legalData.sections.applicableLaw) {
          html += `
            <div class="legal-section">
              <h2 class="section-title">${legalData.sections.applicableLaw.title}</h2>
              <div class="legal-content">${legalData.sections.applicableLaw.content}</div>
            </div>
          `;
        }

        container.innerHTML = html;
      }

      document.addEventListener("DOMContentLoaded", () => {
        // Apply i18n meta tags
        if (window.I18N) {
          const lang = localStorage.getItem("riskalia_lang") || "fr";
          const meta = window.I18N[lang].legalPage.meta;
          document.title = meta.title;
          document.querySelector('meta[name="description"]').setAttribute("content", meta.desc);
        }

        // Initial render
        renderLegalContent();

        // Listen for language changes
        document.addEventListener("languageChanged", (e) => {
          window.lang = e.detail.language;
          localStorage.setItem("riskalia_lang", window.lang);

          // Update meta tags
          const meta = window.I18N[window.lang].legalPage.meta;
          document.title = meta.title;
          document.querySelector('meta[name="description"]').setAttribute("content", meta.desc);

          // Apply translations
          if (typeof window.applyTexts === "function") window.applyTexts();

          // Update components
          window.navigationComponent?.updateTranslations?.();
          window.footerComponent?.updateTranslations?.();

          // Re-render legal content
          renderLegalContent();
        });

        // Initialize components
        if (typeof FooterComponent !== "undefined" && !window.footerComponent) {
          window.footerComponent = new FooterComponent();
        }
      });
    </script>
  </body>
</html>
